<br/>

>[!WARNING|style: flat|label: ç®€è¦è¯´æ˜ ]
>
>- è¦æƒ³ä¿æŠ¤éšç§ï¼Œæœ€å¥½çš„æ–¹å¼å°±æ˜¯å°†<span style='color:Red'>[ `appsettings.json`åŸå§‹é…ç½®æ•°æ®è¿›è¡ŒåŠ å¯† ]</span>ï¼Œé‚£å¦‚ä½•è®©ç¨‹åºè‡ªåŠ¨åŒ–è§£å¯†åœ¨`appsetting.json`ä¸­çš„å¯†æ–‡å‘¢
>
>   [<span style='color:#008B00'>[ğŸ‘“ .NET Core ä¸­å¦‚ä½•åŠ å¯† - Configuration ]</span>](https://mp.weixin.qq.com/s?__biz=MjM5MzI5Mzg1OA==&mid=2247490727&idx=1&sn=cbfe8a6d50461a050a577956cd99727e&chksm=a6986fea91efe6fc4036b6912bc62038def9cf2f978a7e31e5ac6e3e354a51225adaccf341a1&mpshare=1&scene=23&srcid=08160GkDQnMjCVVVz7LB1NJj&sharer_sharetime=1629091519529&sharer_shareid=59de2f213c6a6639f6a4600116f6fabf#rd ':target=_blank') [<span style='color:#008B00'>[ğŸ‘“ å·¥å…·ç±» -Â AESHelper ]</span>](https://pl06972515.github.io/DOCS1/#/d5.0.0 ':target=_blank')
>
><br/>



<!-- tabs:start -->

#### **JsonAesStreamConfigurationSource**

```csharp
public class JsonAesStreamConfigurationSource : JsonStreamConfigurationSource
{
    
	  public string AesKey { get; set; }
	  public override IConfigurationProvider Build(IConfigurationBuilder builder)
		  => new JsonAesStreamConfigurationProvider(this);
    
}


```







#### **JsonAesStreamConfigurationProvider**

```csharp
public class JsonAesStreamConfigurationProvider : JsonStreamConfigurationProvider
{

	  public JsonAesStreamConfigurationProvider(JsonStreamConfigurationSource source)
		  : base(source) { }

	  public override void Load(Stream stream) { 
		   base.Load(stream);

           //æ•°æ®è§£å¯†
		   foreach ((string key, string value) in this.Data)
		   {
			    this.Data[key] = AESHelper.Decrypt(value);
		   }

	  }

}


```



#### **JsonAesConfigurationExtensions**

```csharp
public static class JsonAesConfigurationExtensions
{
	  public static IConfigurationBuilder AddJsonAesStream(this IConfigurationBuilder builder, 
                                                           Stream stream, 
                                                           string AesKey = AESHelper.PublicKey)
	  {
		   JsonAesStreamConfigurationSource Source = new JsonAesStreamConfigurationSource { Stream = stream, AesKey = AesKey };
		   return builder.Add(Source);
	  }
}


```

<!-- tabs:end -->





>
>
>```csharp
>public class User
>{
>	  public string Name { get; set; }
>	  public int Age { get; set; }
>}
>
>
>```
>
>---
>
>
>
>```csharp
>string @jsonStr =
>$$"""
>{
>     "Name": "{{ AESHelper.Encrypt("å¼ ä¸‰") }}",
>     "Age": "{{ AESHelper.Encrypt("20") }}"
>}
>""";
>
>
>MemoryStream stream = new MemoryStream(System.Text.Encoding.UTF8.GetBytes(@jsonStr));
>IConfigurationRoot root = new ConfigurationBuilder()
>							  .AddJsonAesStream(stream)
>							  .Build();
>
>User? user = root.Get<User>();
>Console.WriteLine(user.Name);
>
>
>```
>
><br/>





